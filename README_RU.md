# üå± –ü—Ä–æ–µ–∫—Ç –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –±–æ–ª–µ–∑–Ω–µ–π —Ä–∞—Å—Ç–µ–Ω–∏–π

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —á–∞—Å—Ç–µ–π:

1. **training/** ‚Äì –æ–±—É—á–µ–Ω–∏–µ –∏ –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏  
2. **plant_api/** ‚Äì FastAPI-–±—ç–∫–µ–Ω–¥ —Å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é ONNX  
3. **plant_frontend/** ‚Äì HTML/JS-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (`index.html`) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞  

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
training/         # –û–±—É—á–µ–Ω–∏–µ, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
plant_api/        # FastAPI —Å–µ—Ä–≤–µ—Ä, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å ONNX
plant_frontend/   # –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API
```

---

## üì• –î–∞—Ç–∞—Å–µ—Ç

- –î–∞–Ω–Ω—ã–µ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è —Å **Kaggle**, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ `config.yaml`
- –ó–∞—Ç–µ–º –æ–Ω–∏ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞:
  - **train** (70%) ‚Äì –æ–±—É—á–µ–Ω–∏–µ
  - **val** (20%) ‚Äì –≤–∞–ª–∏–¥–∞—Ü–∏—è
  - **test** (10%) ‚Äì —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–†–∞–∑–±–∏–µ–Ω–∏–µ **–ø–æ –∫–ª–∞—Å—Å–∞–º** ‚Äî —á—Ç–æ–±—ã –≤—Å–µ –±–æ–ª–µ–∑–Ω–∏ –±—ã–ª–∏ –≤ –∫–∞–∂–¥–æ–º —Å–ø–ª–∏—Ç–µ.

> üí° –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞—Å—Å Unknown –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ) –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –æ–±–æ–±—â–∞—é—â–µ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.

---

## üß† –û–±—É—á–µ–Ω–∏–µ –∏ –¥–æ–æ–±—É—á–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å **MobileNetV2**, –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ ImageNet.  
–°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—Ñ–∏—á–∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω—ã), –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –¥–æ–æ–±—É—á–∏—Ç—å –≤—Å—é –º–æ–¥–µ–ª—å.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- CrossEntropy —Å **label smoothing**
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ learning rate: **cosine annealing**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ —Å—ç–º–ø–ª–µ—Ä–∞** –ø—Ä–∏ –¥–∏—Å–±–∞–ª–∞–Ω—Å–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–ø–∫—É `logs/`
- –ü–µ—Ä–µ–¥ –¥–æ–æ–±—É—á–µ–Ω–∏–µ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –º–æ–¥–µ–ª–∏

–ó–∞–ø—É—Å–∫ –Ω–∞–ø—Ä—è–º—É—é:

```bash
python training/train_module.py
```

---

## üíæ –í–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–∏

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `plant_ckpt.pt` | –ü–æ—Å–ª–µ–¥–Ω–∏–π —á–µ–∫–ø–æ–∏–Ω—Ç |
| `best_val.pt` | –õ—É—á—à–∏–π –ø–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ |
| `plant_disease_model.onnx` | –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å |
| `class_names.json` | –ù–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ |

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–ò–∑–º–µ–Ω—è—é—Ç—Å—è –≤ `config.yaml`:

```yaml
batch_size: 32
num_epochs: 10
lr: 0.001
weight_decay: 0.0001
label_smoothing: 0.05
use_weighted_sampler: true
amp: false  # Mixed precision, –µ—Å–ª–∏ –µ—Å—Ç—å GPU
```

---

## üåê –ó–∞–ø—É—Å–∫ API

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª—å –≤ –ø–∞–ø–∫—É `plant_api`:
   - `plant_disease_model.onnx`
   - `class_names.json`

2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
cd plant_api
uvicorn app:app --host 0.0.0.0 --port 8000
```

3. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API:

| –ú–µ—Ç–æ–¥ | URL        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ          |
|-------|------------|---------------------|
| GET   | `/health`  | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞    |
| POST  | `/predict` | –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç |

---

## üñºÔ∏è –§—Ä–æ–Ω—Ç–µ–Ω–¥ (index.html)

- –û—Ç–∫—Ä–æ–π `plant_frontend/index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Å—Ç–∞
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç –µ–≥–æ –Ω–∞ API –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∑–∞–ø—É—â–µ–Ω –¥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è frontend.  
–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞ `localhost:8000`, –∏–∑–º–µ–Ω–∏—Ç–µ URL –≤–Ω—É—Ç—Ä–∏ `index.html`.
